# ============================================
# FICHIER .env POUR RENDER
# ============================================
# Copiez ce fichier et remplissez les valeurs réelles
# Ne commitez JAMAIS le fichier .env avec les vraies valeurs

# ============================================
# VARIABLES REQUISES (OBLIGATOIRES)
# ============================================

# MongoDB Atlas Connection String
# Format: mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/codegenesis?retryWrites=true&w=majority

# JWT Secret pour l'authentification des utilisateurs
# Générez une chaîne aléatoire sécurisée (minimum 32 caractères)
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long

# JWT Admin Secret pour l'authentification des administrateurs
# Générez une chaîne aléatoire sécurisée différente de JWT_SECRET
JWT_ADMIN_SECRET=your-super-secret-admin-jwt-key-minimum-32-characters-long

# URL du frontend (pour CORS et redirections)
# En production, utilisez l'URL de votre frontend déployé
CLIENT_ORIGIN=https://codegenesis-platform.web.app

# Environnement (production ou development)
NODE_ENV=production

# ============================================
# VARIABLES OPTIONNELLES (RECOMMANDÉES)
# ============================================

# Port du serveur (Render définit automatiquement PORT, mais vous pouvez le spécifier)
# PORT=5000

# URL de base de l'application (pour les redirections de paiement, etc.)
APP_BASE_URL=https://codegenesis-platform.web.app

# URL client pour les redirections (peut être identique à CLIENT_ORIGIN)
CLIENT_URL=https://codegenesis-platform.web.app

# ============================================
# STRIPE (OPTIONNEL - Pour les paiements Stripe)
# ============================================

# Clé secrète Stripe (si vous utilisez Stripe pour les paiements)
# Obtenez-la depuis: https://dashboard.stripe.com/apikeys
# STRIPE_SECRET_KEY=sk_test_...

# Secret webhook Stripe (pour valider les webhooks Stripe)
# Obtenez-le depuis: https://dashboard.stripe.com/webhooks
# STRIPE_WEBHOOK_SECRET=whsec_...

# ============================================
# KONNECT (OPTIONNEL - Pour les paiements Konnect)
# ============================================

# Clé API Konnect (si vous utilisez Konnect pour les paiements)
# Obtenez-la depuis votre dashboard Konnect
# KONNECT_API_KEY=your-konnect-api-key

# ID du wallet récepteur Konnect (si vous utilisez Konnect)
# KONNECT_RECEIVER_WALLET_ID=your-receiver-wallet-id

# URL de base Konnect (sandbox ou production)
# KONNECT_BASE_URL=https://api.sandbox.konnect.network
# ou
# KONNECT_BASE_URL=https://api.konnect.network

# URL de webhook Konnect (générée automatiquement si non spécifiée)
# KONNECT_WEBHOOK_URL=https://your-backend-url.onrender.com/api/konnect/webhook

# ============================================
# FIREBASE (OPTIONNEL - Pour l'intégration Firebase)
# ============================================

# Firebase Project ID
# FIREBASE_PROJECT_ID=your-firebase-project-id

# Firebase Client Email (service account)
# FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com

# Firebase Private Key (service account)
# Format: -----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n
# Note: Dans Render, remplacez \n par de vrais sauts de ligne ou utilisez \\n
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# Firebase Private Key ID
# FIREBASE_PRIVATE_KEY_ID=your-private-key-id

# Firebase Client ID
# FIREBASE_CLIENT_ID=your-client-id

# Firebase Client X509 Cert URL
# FIREBASE_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xxxxx%40your-project.iam.gserviceaccount.com

# Firebase Storage Bucket
# FIREBASE_STORAGE_BUCKET=your-project.appspot.com

# Firebase Web API Key (pour l'authentification côté client)
# FIREBASE_WEB_API_KEY=your-firebase-web-api-key

# ============================================
# NOTES IMPORTANTES
# ============================================

# 1. Sécurité:
#    - NE COMMITEZ JAMAIS ce fichier avec des valeurs réelles
#    - Utilisez des secrets forts pour JWT_SECRET et JWT_ADMIN_SECRET
#    - Générez des secrets avec: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# 2. Render:
#    - Ajoutez ces variables dans: Render Dashboard > Your Service > Environment
#    - Pour les valeurs multilignes (comme FIREBASE_PRIVATE_KEY), utilisez les sauts de ligne réels
#    - Render n'interprète pas \n comme des sauts de ligne dans les variables d'environnement

# 3. MongoDB:
#    - Assurez-vous que votre IP est autorisée dans MongoDB Atlas
#    - Pour Render, autorisez 0.0.0.0/0 (toutes les IPs) ou les IPs spécifiques de Render

# 4. CORS:
#    - CLIENT_ORIGIN doit être l'URL exacte de votre frontend (sans slash final)
#    - Pour plusieurs origines, séparez-les par des virgules dans le code backend

# 5. Génération de secrets JWT:
#    - Ouvrez un terminal Node.js
#    - Exécutez: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#    - Copiez le résultat dans JWT_SECRET et JWT_ADMIN_SECRET

